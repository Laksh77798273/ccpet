# ccpet

[![npm version](https://badge.fury.io/js/ccpet.svg)](https://badge.fury.io/js/ccpet)
[![Downloads](https://img.shields.io/npm/dm/ccpet.svg)](https://www.npmjs.com/package/ccpet)
[![Node.js CI](https://github.com/terryso/ccpet/workflows/CI/badge.svg)](https://github.com/terryso/ccpet/actions)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[English](README.md)

ä¸€ä¸ª Claude Code çŠ¶æ€æ è™šæ‹Ÿå® ç‰©ã€‚å® ç‰©çš„èƒ½é‡ä¼šéšæ—¶é—´è¡°å‡ã€åœ¨ä½ æ¶ˆè€— token æ—¶å¢åŠ ï¼Œå¹¶åœ¨ä¼šè¯ä¹‹é—´æŒä¹…åŒ–ä¿å­˜ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **ğŸ¾ è™šæ‹Ÿå® ç‰©ç³»ç»Ÿ**
  - åŸºäºèƒ½é‡çš„å® ç‰©ï¼Œå“åº”ä½ çš„ Claude Code ä½¿ç”¨æƒ…å†µ
  - åŸºäºæ—¶é—´çš„è¡°å‡ï¼ˆçº¦æ¯åˆ†é’Ÿ 0.0231ï¼Œçº¦ 3 å¤©ä» 100 â†’ 0ï¼‰
  - é€šè¿‡ token ä½¿ç”¨è¿›è¡Œå–‚å…»ï¼ˆ1,000,000 tokens = +1 èƒ½é‡ï¼‰
  
- **ğŸ­ åŠ¨ç”»è¡¨æƒ…** åŸºäºèƒ½é‡ç­‰çº§
  - **å¼€å¿ƒ (â‰¥80)**: `(^_^) (^o^) (^_^) (^v^)` - ä½ çš„å® ç‰©å¾ˆå¥åº·ï¼
  - **é¥¥é¥¿ (â‰¥40)**: `(o_o) (O_O) (o_o) (-_-)` - éœ€è¦ä¸€äº›å…³æ³¨
  - **ç”Ÿç—… (â‰¥10)**: `(u_u) (T_T) (u_u) (>_<)` - æ˜¯æ—¶å€™å–‚å…»ä½ çš„å® ç‰©äº†
  - **æ­»äº¡ (<10)**: `(x_x) (X_X) (x_x) (+_+)` - ä½ çš„å® ç‰©éœ€è¦ç´§æ€¥æŠ¤ç†ï¼

- **ğŸ“Š ä¸°å¯ŒçŠ¶æ€æ˜¾ç¤º**
  - å½©è‰²èƒ½é‡æ¡å’Œç²¾ç¡®çš„èƒ½é‡å€¼
  - ç´¯è®¡ token å’Œç»ˆèº«ç»Ÿè®¡æ•°æ®
  - å®æ—¶ä¼šè¯æŒ‡æ ‡ï¼ˆè¾“å…¥/è¾“å‡º/ç¼“å­˜/æ€»è®¡ï¼‰
  
- **âš™ï¸ å¯é…ç½®ä¸”æŒä¹…åŒ–**
  - è‡ªå®šä¹‰é¢œè‰²å’Œè¡°å‡ç‡
  - çŠ¶æ€åœ¨ Claude Code ä¼šè¯ä¹‹é—´æŒä¹…ä¿å­˜

## å®‰è£…å’Œé…ç½®

### å¿«é€Ÿå¼€å§‹
è¦å°† ccpet ç”¨ä½œä½ çš„ Claude Code çŠ¶æ€æ ï¼Œè¯·åœ¨ä½ çš„ `~/.claude/settings.json` ä¸­æ·»åŠ ï¼š

```json
{
  "statusLine": {
    "type": "command",
    "command": "npx ccpet@latest",
    "padding": 0
  }
}
```

### æ›¿ä»£æ–¹æ¡ˆï¼šå…¨å±€å®‰è£…
ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ï¼Œä½ å¯ä»¥å…¨å±€å®‰è£…ï¼š

```bash
npm install -g ccpet
```

ç„¶åæ›´æ–°è®¾ç½®ä»¥ä½¿ç”¨å…¨å±€è·¯å¾„ã€‚

## CLI å‘½ä»¤

### åŸºæœ¬ç”¨æ³•
```bash
ccpet                    # æ˜¾ç¤ºçŠ¶æ€æ ï¼ˆç”¨äº Claude Codeï¼‰
ccpet --help             # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
ccpet --version          # æ˜¾ç¤ºç‰ˆæœ¬å·
```

### å® ç‰©ç®¡ç†å‘½ä»¤

#### æ£€æŸ¥å‘½ä»¤
```bash
ccpet check              # æ‰‹åŠ¨æ£€æŸ¥å® ç‰©çŠ¶æ€ï¼ˆä¸æ¶ˆè€— tokenï¼‰
```
ä½¿ç”¨ `ccpet check` æ¥ï¼š
- âœ… æ£€æŸ¥å® ç‰©çŠ¶æ€è€Œä¸æ¶ˆè€— token
- âœ… æŸ¥çœ‹è·ç¦»ä¸Šæ¬¡å–‚é£Ÿçš„æ—¶é—´
- âœ… ç›‘æ§ä¼šè¯ä¹‹é—´çš„èƒ½é‡ç­‰çº§

#### é…ç½®å‘½ä»¤
```bash
ccpet config list        # æ˜¾ç¤ºå½“å‰é…ç½®
ccpet config set <key> <value>  # è®¾ç½®é…ç½®å€¼
ccpet config reset       # é‡ç½®ä¸ºé»˜è®¤é…ç½®
ccpet config path        # æ˜¾ç¤ºé…ç½®æ–‡ä»¶ä½ç½®
```

**é…ç½®é€‰é¡¹ï¼š**
```bash
# é¢œè‰²ï¼ˆæ ¼å¼ï¼š#RRGGBB æˆ– #RRGGBB:bright æˆ– #RRGGBB:bright:boldï¼‰
ccpet config set colors.petExpression "#FF0000:bright:bold"
ccpet config set colors.energyBar "#00FF00"
ccpet config set colors.energyValue "#00FFFF"
ccpet config set colors.lifetimeTokens "#FF00FF"

# å® ç‰©è¡Œä¸º
ccpet config set pet.animationEnabled true
ccpet config set pet.decayRate 0.0231
```

## çŠ¶æ€æ˜¾ç¤º

### æ­£å¸¸è¿è¡Œ
```text
(^o^) â—â—â—â—â—â—â—â—â—â— 98.52 (45.2K) ğŸ’–5.2M
In: 2847 Out: 1256 Cached: 512 Total: 4615
```

### ä½èƒ½é‡
```text
(u_u) â—â—â—‹â—‹â—‹â—‹â—‹â—‹â—‹â—‹ 15.32 (890.1K) ğŸ’–12.3M
In: 5234 Out: 3421 Cached: 1024 Total: 9679
```

**çŠ¶æ€æ ¼å¼ï¼š**
- **ç¬¬ 1 è¡Œ**: `[è¡¨æƒ…] [èƒ½é‡æ¡] [èƒ½é‡å€¼] ([ç´¯è®¡ token]) ğŸ’–[ç»ˆèº« token]`
- **ç¬¬ 2 è¡Œ**: `In: [è¾“å…¥] Out: [è¾“å‡º] Cached: [ç¼“å­˜] Total: [ä¼šè¯æ€»è®¡]`

## å® ç‰©ç…§é¡¾æŒ‡å—

### ğŸŒŸ ä¿æŒå® ç‰©å¥åº·
- **ç§¯æä½¿ç”¨**: å®šæœŸä½¿ç”¨ Claude Code æ¥å–‚å…»ä½ çš„å® ç‰©
- **Token è½¬æ¢**: 1,000,000 tokens = +1 èƒ½é‡ç‚¹
- **è‡ªç„¶è¡°å‡**: çº¦æ¯åˆ†é’Ÿ 0.0231 èƒ½é‡ï¼ˆçº¦ 3 å¤©å®Œå…¨è¡°å‡ï¼‰

### ğŸ˜´ å½“å® ç‰©æ­»äº¡æ—¶
å¦‚æœä½ çš„å® ç‰©èƒ½é‡é™åˆ° 0ï¼š
- æ‰€æœ‰ç»Ÿè®¡æ•°æ®éƒ½ä¼šé‡ç½®ï¼ˆç»ˆèº« tokenã€ç´¯è®¡ tokenï¼‰
- ä½ çš„å® ç‰©å¯ä»¥é€šè¿‡ç»§ç»­ä½¿ç”¨ Claude Code å¤æ´»
- æ¯ä¸ªæ–° token éƒ½æœ‰åŠ©äºä»å¤´é‡å»ºä½ çš„å® ç‰©

## æ•…éšœæ’é™¤

### çŠ¶æ€æ ä¸æ›´æ–°ï¼Ÿ
çŠ¶æ€æ åªåœ¨ä½ ä½¿ç”¨ Claude Code æ—¶æ›´æ–°ã€‚ä½¿ç”¨ `ccpet check` è¿›è¡Œæ‰‹åŠ¨æ›´æ–°ã€‚

### å® ç‰©æ¶ˆå¤±äº†ï¼Ÿ
1. æ£€æŸ¥ Claude Code è®¾ç½®ï¼š`cat ~/.claude/settings.json`
2. éªŒè¯ ccpet å®‰è£…ï¼š`ccpet --version`
3. æ‰‹åŠ¨æµ‹è¯•ï¼š`ccpet check`

## å¼€å‘

### æµ‹è¯•
```bash
npm test              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:coverage # è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

### æ„å»º
```bash
npm run build        # æ„å»ºåˆ†å‘æ–‡ä»¶
npm run watch        # æ„å»ºå¹¶ç›‘è§†æ›´æ”¹
```

## è®¸å¯è¯

MIT License

---

**äº«å—ä½ çš„è™šæ‹Ÿç¼–ç¨‹ä¼™ä¼´ï¼ğŸ¾**

*è®°ä½ï¼šå–‚å¾—å¥½çš„å® ç‰©æ˜¯å¿«ä¹çš„å® ç‰©ã€‚ä¿æŒç¼–ç æ¥ä¿æŒä½ çš„å® ç‰©å¥åº·ï¼*